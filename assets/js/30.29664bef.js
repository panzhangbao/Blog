(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{533:function(e,t,s){"use strict";s.r(t);var v=s(4),_=Object(v.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("Boxx",{attrs:{type:"tip"}}),e._v(" "),s("p",[e._v("语法")]),e._v(" "),s("p",[e._v("redis 性能测试的基本命令如下：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("redis-benchmark [option] [option value]\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("redis 性能测试工具可选参数如下所示：")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",[e._v("序号")]),e._v(" "),s("th",[e._v("选项")]),e._v(" "),s("th",[e._v("描述")]),e._v(" "),s("th",[e._v("默认值")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("1")]),e._v(" "),s("td",[e._v("-h")]),e._v(" "),s("td",[e._v("指定服务器主机名")]),e._v(" "),s("td",[e._v("127.0.0.1")])]),e._v(" "),s("tr",[s("td",[e._v("2")]),e._v(" "),s("td",[e._v("-p")]),e._v(" "),s("td",[e._v("指定服务器端口")]),e._v(" "),s("td",[e._v("6379")])]),e._v(" "),s("tr",[s("td",[e._v("3")]),e._v(" "),s("td",[e._v("-s")]),e._v(" "),s("td",[e._v("指定服务器 socket")]),e._v(" "),s("td")]),e._v(" "),s("tr",[s("td",[e._v("4")]),e._v(" "),s("td",[e._v("-c")]),e._v(" "),s("td",[e._v("指定并发连接数")]),e._v(" "),s("td",[e._v("50")])]),e._v(" "),s("tr",[s("td",[e._v("5")]),e._v(" "),s("td",[e._v("-n")]),e._v(" "),s("td",[e._v("指定请求数")]),e._v(" "),s("td",[e._v("10000")])]),e._v(" "),s("tr",[s("td",[e._v("6")]),e._v(" "),s("td",[e._v("-d")]),e._v(" "),s("td",[e._v("以字节的形式指定 SET/GET 值的数据大小")]),e._v(" "),s("td",[e._v("2")])]),e._v(" "),s("tr",[s("td",[e._v("7")]),e._v(" "),s("td",[e._v("-k")]),e._v(" "),s("td",[e._v("1=keep alive 0=reconnect")]),e._v(" "),s("td",[e._v("1")])]),e._v(" "),s("tr",[s("td",[e._v("8")]),e._v(" "),s("td",[e._v("-r")]),e._v(" "),s("td",[e._v("SET/GET/INCR 使用随机 key, SADD 使用随机值")]),e._v(" "),s("td")]),e._v(" "),s("tr",[s("td",[e._v("9")]),e._v(" "),s("td",[e._v("-P")]),e._v(" "),s("td",[e._v("通过管道传输 "),s("numreq",[e._v(" 请求")])],1),e._v(" "),s("td",[e._v("1")])]),e._v(" "),s("tr",[s("td",[e._v("10")]),e._v(" "),s("td",[e._v("-q")]),e._v(" "),s("td",[e._v("强制退出 redis。仅显示 query/sec 值")]),e._v(" "),s("td")]),e._v(" "),s("tr",[s("td",[e._v("11")]),e._v(" "),s("td",[e._v("--csv")]),e._v(" "),s("td",[e._v("以 CSV 格式输出")]),e._v(" "),s("td")]),e._v(" "),s("tr",[s("td",[e._v("12")]),e._v(" "),s("td",[e._v("-l")]),e._v(" "),s("td",[e._v("生成循环，永久执行测试")]),e._v(" "),s("td")]),e._v(" "),s("tr",[s("td",[e._v("13")]),e._v(" "),s("td",[e._v("-t")]),e._v(" "),s("td",[e._v("仅运行以逗号分隔的测试命令列表。")]),e._v(" "),s("td")]),e._v(" "),s("tr",[s("td",[e._v("14")]),e._v(" "),s("td",[e._v("-I")]),e._v(" "),s("td",[e._v("Idle 模式。仅打开 N 个 idle 连接并等待。")]),e._v(" "),s("td")])])]),e._v(" "),s("p",[e._v("例子,以下实例同时执行 10000 个请求来检测性能：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("\n    redis-benchmark -n 100000\n     \n    PING_INLINE: 141043.72 requests per second\n    PING_BULK: 142857.14 requests per second\n    SET: 141442.72 requests per second\n    GET: 145348.83 requests per second\n    INCR: 137362.64 requests per second\n    LPUSH: 145348.83 requests per second\n    LPOP: 146198.83 requests per second\n    SADD: 146198.83 requests per second\n    SPOP: 149253.73 requests per second\n    LPUSH (needed to benchmark LRANGE): 148588.42 requests per second\n    LRANGE_100 (first 100 elements): 58411.21 requests per second\n    LRANGE_300 (first 300 elements): 21195.42 requests per second\n    LRANGE_500 (first 450 elements): 14539.11 requests per second\n    LRANGE_600 (first 600 elements): 10504.20 requests per second\n    MSET (10 keys): 93283.58 requests per second\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br")])]),s("p",[e._v("以下实例我们使用了多个参数来测试 redis 性能：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("redis-benchmark -h 127.0.0.1 -p 6379 -t set,lpush -n 100000 -q\n \nSET: 146198.83 requests per second\nLPUSH: 145560.41 requests per second\n")])])]),s("p",[e._v("以上实例中主机为 127.0.0.1，端口号为 6379，执行的命令为 set,lpush，请求数为 10000，通过 -q 参数让结果只显示每秒执行的请求数。")])],1)}),[],!1,null,null,null);t.default=_.exports}}]);